{\rtf1\ansi\ansicpg1251\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1049\deflangfe1049{\fonttbl{\f0\froman\fcharset204\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f285\froman\fcharset0\fprq2 Times New Roman;}
{\f283\froman\fcharset238\fprq2 Times New Roman CE;}{\f286\froman\fcharset161\fprq2 Times New Roman Greek;}{\f287\froman\fcharset162\fprq2 Times New Roman Tur;}{\f288\froman\fcharset177\fprq2 Times New Roman (Hebrew);}
{\f289\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f290\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f291\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;
\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;
\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1049\langfe1049\cgrid\langnp1049\langfenp1049 \snext0 Normal;}{\*\cs10 \additive \ssemihidden 
Default Paragraph Font;}{\*\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\latentstyles\lsdstimax156\lsdlockeddef0}{\*\rsidtbl \rsid7469\rsid1382663
\rsid1510096\rsid2773239\rsid5977341\rsid6227411\rsid7156764\rsid7876354\rsid10162975\rsid10757701\rsid12063142\rsid15104073\rsid15164679\rsid16200432}{\*\generator Microsoft Word 11.0.5604;}{\info{\author h.coder}{\operator Slant}
{\creatim\yr2012\mo11\dy7\hr23\min51}{\revtim\yr2012\mo11\dy8\hr1\min47}{\version4}{\edmins114}{\nofpages8}{\nofwords2326}{\nofchars13259}{\nofcharsws15554}{\vern24689}}\margl1134\margr851\margt1134\margb1134 
\widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3\jcompress\viewkind1\viewscale120\nolnhtadjtbl\rsidroot15104073 \fet0\sectd 
\linex0\sectdefaultcl\sectrsid10757701\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4
\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}
{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 
\fs24\lang1049\langfe1049\cgrid\langnp1049\langfenp1049 {\lang1033\langfe1049\langnp1033\insrsid1382663 The script language integrated in the game engine is MVEL2. User manual for it can be found here: }{\field{\*\fldinst {
\lang1033\langfe1049\langnp1033\insrsid1382663 HYPERLINK "http://mvel.codehaus.org/Language+Guide+for+2.0"}{\lang1033\langfe1049\langnp1033\insrsid15164679\charrsid15104073 {\*\datafield 
00d0c9ea79f9bace118c8200aa004ba90b0200000003000000e0c9ea79f9bace118c8200aa004ba90b7800000068007400740070003a002f002f006d00760065006c002e0063006f006400650068006100750073002e006f00720067002f004c0061006e00670075006100670065002b00470075006900640065002b006600
6f0072002b0032002e0030000000795881f43b1d7f48af2c825dc485276300000000a5ab000000}}}{\fldrslt {\ul\cf2\lang1033\langfe1049\langnp1033\insrsid1382663 http://mvel.codehaus.org/Language+Guide+for+2.0}}}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par 
\par Here I only define objects and functions specific }{\lang1033\langfe1049\langnp1033\insrsid15104073 to Fetish Master SDK version 0.6}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\lang1033\langfe1049\langnp1033\insrsid15104073 (Based on game engine ver. }{\lang1033\langfe1049\langnp1033\insrsid1510096 0.53}{\lang1033\langfe1049\langnp1033\insrsid15104073 )
\par 
\par 
\par First thing - variables. If you create variable in script, from where you can access it?}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\lang1033\langfe1049\langnp1033\insrsid15104073 
\par - If you create variable in the event text}{\lang1033\langfe1049\langnp1033\insrsid1510096  script, }{\lang1033\langfe1049\langnp1033\insrsid15104073 
 inside <% %> tag, you can access this variable from any scripts that this events has further. Also this variable can be accessed from scripts called in the templates ("}{\lang1033\langfe1049\langnp1033\insrsid15104073\charrsid15104073 Incl}{
\lang1033\langfe1049\langnp1033\insrsid15104073 u}{\lang1033\langfe1049\langnp1033\insrsid15104073\charrsid15104073 de}{\lang1033\langfe1049\langnp1033\insrsid15104073 " function). Variables will be cleaned as engine load next event.}{
\lang1033\langfe1049\langnp1033\insrsid1510096  One exclude - conditions scripts of the next possible events. They can access variable from current event. }{\lang1033\langfe1049\langnp1033\insrsid15104073 
\par 
\par - In the }{\lang1033\langfe1049\langnp1033\insrsid1510096 other scripts, variable can be accessed only from script where it created.}{\lang1033\langfe1049\langnp1033\insrsid15104073 
\par }{\lang1033\langfe1049\langnp1033\insrsid7469 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\lang1033\langfe1049\langnp1033\insrsid1382663 Objects}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par Class }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 creature}{\lang1033\langfe1049\langnp1033\insrsid1382663  - objects contain game characters. The engine has predefined objects of this class:
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 activePartner}{\lang1033\langfe1049\langnp1033\insrsid1382663  - this is the worker on the walk with active proxy control.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 player}{\lang1033\langfe1049\langnp1033\insrsid1382663  - player avatar. This object is now used only as main inventory in the base. Does not }{\lang1033\langfe1049\langnp1033\insrsid1510096 appear}{
\lang1033\langfe1049\langnp1033\insrsid1382663  on the walks.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 selectedWorker}{\lang1033\langfe1049\langnp1033\insrsid1382663  - worker selected in the list on the }{\lang1033\langfe1049\langnp1033\insrsid1510096 Management}{
\lang1033\langfe1049\langnp1033\insrsid1382663  tab.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 self}{\lang1033\langfe1049\langnp1033\insrsid1382663  - for use in the scripts of objects}{\lang1033\langfe1049\langnp1033\insrsid1510096 , organs}{\lang1033\langfe1049\langnp1033\insrsid1382663 
 and genes. Reference to the character who used the item, or who has the }{\lang1033\langfe1049\langnp1033\insrsid1510096 object}{\lang1033\langfe1049\langnp1033\insrsid1382663  with the running script.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 consumer}{\lang1033\langfe1049\langnp1033\insrsid1382663  - only for the items scripts. Reference to the character that used this item.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 enemy}{\lang1033\langfe1049\langnp1033\insrsid1382663  - Reference to the current enemy.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 iTarget }{\lang1033\langfe1049\langnp1033\insrsid1382663 - Reference to the current interaction target. }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 enemy }{
\lang1033\langfe1049\langnp1033\insrsid1382663 always references this, but this does not always reference an }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 enemy}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par Methods for the creature objects using "self" object as the example:
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 String self.HeShe() 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return "He" or "She" based on sex.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 String self.HimHer()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return "Him" or "Her" based on sex.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 String self.HisHer()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return "His" or "Her}{\lang1033\langfe1049\langnp1033\insrsid1510096 s}{\lang1033\langfe1049\langnp1033\insrsid1382663 " based on sex.  
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.addEffect(String statName, String effectName, double effectValue)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add effect to the an RNA. Effect will be added to all checks that use this stat.
\par For example stat (RNA gene) "generic.str" has value 60. We call this command:
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid10757701 self.addEffect("generic.str", "boost",  15);
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Now all checks of stat "generic.str
" will return 75. We can remove the effect, and this automatically removes only the value added by it. Many effects can be added to the stat with both negative or positive values. They will be calculated. There is only one restr
iction - effects must have unique names. (In our example it is "boost").
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.addEffect(String statName, String effectName, double effectValue, int hours)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Same as before, but this command will add an effect that will last only }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 hours}{\lang1033\langfe1049\langnp1033\insrsid1382663 . After this time 
it will be automatically removed.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.removeEffect(String statName, String effectName)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Remove effect from gene (stat). Can be used on persistent and temporary effects.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.addHistory(String name, String descr)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add text to the individual history of the creature. History can be displayed in the Journal tab.
\par }{\lang1033\langfe1049\langnp1033\insrsid10757701 Exmples:
\par }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 self.addHistory("Rest", "Having nice rest..."); \tab //}{\lang1033\langfe1049\langnp1033\insrsid10757701 Journal will have entry with name "Rest", and text \tab \tab \tab \tab \tab \tab \tab \tab "
Having nice rest...";}{\lang1033\langfe1049\langnp1033\insrsid10757701\charrsid10757701 
\par }{\lang1033\langfe1049\langnp1033\insrsid10757701 Or for more interactive:}{\lang1033\langfe1049\langnp1033\insrsid10757701\charrsid10757701 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid10757701 {\b\lang1033\langfe1049\langnp1033\insrsid10757701 self.addHistory("Rest", self.GetName()+"}{\b\lang1033\langfe1049\langnp1033\insrsid6227411  h}{
\b\lang1033\langfe1049\langnp1033\insrsid10757701 aving nice rest...");}{\b\lang1033\langfe1049\langnp1033\insrsid10757701\charrsid10757701  
\par }{\lang1033\langfe1049\langnp1033\insrsid10757701 If character have name Joe, }{\lang1033\langfe1049\langnp1033\insrsid6227411 text in journal will be "Joe having nice rest..."}{\lang1033\langfe1049\langnp1033\insrsid10757701\charrsid10757701 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 BodyResponse self.doAction(String action)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 This command used for the complex body functionality. For example if we call this as:
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid10757701 result = self.doAction("milking"); 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 The variable "result" will }{\lang1033\langfe1049\langnp1033\insrsid12063142 receive}{\lang1033\langfe1049\langnp1033\insrsid1382663  a complex object with an }{
\lang1033\langfe1049\langnp1033\insrsid12063142 list}{\lang1033\langfe1049\langnp1033\insrsid1382663  of responses related to the milking. The object will contain }{\lang1033\langfe1049\langnp1033\insrsid12063142 responses}{
\lang1033\langfe1049\langnp1033\insrsid1382663  from the }{\lang1033\langfe1049\langnp1033\insrsid6227411 all }{\lang1033\langfe1049\langnp1033\insrsid1382663 
organs in the body. See details in the description of the objects BodyResponse and OrganResponse. Catalog of possible actions can be found in the bio SDK.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 int self.getAge()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return age, in hours, of this creature.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 String self.getName()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return the name of the creature.
\par }{\lang1033\langfe1049\langnp1033\insrsid12063142 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid12063142 {\b\lang1033\langfe1049\langnp1033\insrsid12063142 double self.getStat(String gene)
\par }{\lang1033\langfe1049\langnp1033\insrsid12063142\charrsid10757701 Synonym for }{\b\lang1033\langfe1049\langnp1033\insrsid12063142 getRNAValue }{\lang1033\langfe1049\langnp1033\insrsid12063142\charrsid12063142 func}{
\lang1033\langfe1049\langnp1033\insrsid12063142 t}{\lang1033\langfe1049\langnp1033\insrsid12063142\charrsid12063142 ion;
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 double self.getRNAValue(String gene)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return value stored in the gene (stat). Example:
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid6227411 a = self.getRNAValue("generic.str"); 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 a will now contain the strength stat value. Catalog of RNA ge}{\lang1033\langfe1049\langnp1033\insrsid6227411 nes can be found in the bio SDK, or seen with the DNA Editor. }{
\lang1033\langfe1049\langnp1033\insrsid1382663 If a gene that is called in this function does not exist it will be created and added to the RNA of the creature with the default value (usually zero).
\par }{\lang1033\langfe1049\langnp1033\insrsid12063142 
\par }{\lang1033\langfe1049\langnp1033\insrsid6227411 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 double self.getCleanRNAValue(String gene)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Same as before but effects added to this gene will not be calculated and returned only the base, clean value, stored in this gene. This ignores all modifiers to the gene from things like self.addEffect().

\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean self.isRNAactive(String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  if this gene is active. Details in the bio SDK.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid12063142 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.addStat(String statName, double value)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 value}{\lang1033\langfe1049\langnp1033\insrsid1382663  to the stat (RNA gene) }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 statName}{
\lang1033\langfe1049\langnp1033\insrsid1382663 . Can't used negative values. If this gene not exists it will be created. For example: generic.str contain value 50. If we use:
\par self.addStat("generic.str", 10);
\par it will now contain 60. If gene generic.str not existed before it will be created and now contain 10.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.subStat(String statName, double value)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Do as above, but subtract }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 value}{\lang1033\langfe1049\langnp1033\insrsid1382663  from the stat.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void self.setStat(String statName, double value)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Same as before, but not adding or subtract }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 value}{\lang1033\langfe1049\langnp1033\insrsid1382663 . This command fully rewrite value in gene.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean self.isActivePartner()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  if this creature is used for }{\lang1033\langfe1049\langnp1033\insrsid12063142 curent}{
\lang1033\langfe1049\langnp1033\insrsid1382663  proxy session.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean self.isWorker()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  if this creature is in the worker list (have contract with player).
\par 
\par 
\par 
\par 
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\lang1033\langfe1049\langnp1033\insrsid1382663 Commands (functions)
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\lang1033\langfe1049\langnp1033\insrsid1382663 void sysprint(String s) 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Function to print s to the game console window. For debugging purpose.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 int GetHealthProcent(Creature c)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return how much life creature }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 c }{\lang1033\langfe1049\langnp1033\insrsid1382663 has as percentage. 100 - full, 0 - none.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void SetFlag(String name, int val)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Set global flag with name }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name}{\lang1033\langfe1049\langnp1033\insrsid1382663  and value }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 val}{
\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean ExistsFlag(String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  if global flag with }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name}{
\lang1033\langfe1049\langnp1033\insrsid1382663  exist and not 0. Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 false}{\lang1033\langfe1049\langnp1033\insrsid1382663  otherwise.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void RemoveFlag(String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Remove global flag with }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 int GetFlag(String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return value in the global flag }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par 
\par Next four functions mainly the same but they only for the current worker. Personal, or local flags.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void PerSetFlag(String name, int val)
\par boolean PerExistsFlag(String name)
\par void PerRemoveFlag(String name)
\par int PerGetFlag(String name)
\par 
\par String Include(String template)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 This function is for the including of templates stored in the *.tpl files. Can be used in the }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 events}{\lang1033\langfe1049\langnp1033\insrsid1382663  and }
{\b\lang1033\langfe1049\langnp1033\insrsid1382663 templates}{\lang1033\langfe1049\langnp1033\insrsid1382663 . Can be used as nested includes. Details of the syntax for the filenames in the filesystem SDK. Returns a string with the processed text of t
he template.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 String IncludeRange(double value, String template)}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par Return string with the text from description file }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 template}{\lang1033\langfe1049\langnp1033\insrsid1382663  based on the }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 value}{
\lang1033\langfe1049\langnp1033\insrsid1382663 . Example.
\par We have stat "generic.height". And have template with have texts "small" (>130), "medium" (130-170), "tail" (>170) in the file }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 descriptions/height.descr}{\lang1033\langfe1049\langnp1033\insrsid1382663 
. Now we write this in the event text:
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 His height is <% IncludeRange(double 150, String "height");%>.
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 The result will be printed "His height is medium". Description files for this function can be created and edited in special editor (Start game in Dev Mode to access).
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 
\par Creature Character(String name, String dnaFileName)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Create character with the }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name}{\lang1033\langfe1049\langnp1033\insrsid1382663 , from the file with DNA }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 
dnaFileName
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 Creature Character(String name, String dnaFileName, boolean permanent)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Same as above, but if }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 permanent}{\lang1033\langfe1049\langnp1033\insrsid1382663  is true, character wi}{\lang1033\langfe1049\langnp1033\insrsid2773239 l}{
\lang1033\langfe1049\langnp1033\insrsid1382663 l be stored in the game world permanently; on the next call of this function, if a character with }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 name }{\lang1033\langfe1049\langnp1033\insrsid1382663 
already exists the game }{\lang1033\langfe1049\langnp1033\insrsid2773239 engine }{\lang1033\langfe1049\langnp1033\insrsid1382663 will return a reference to it and not will create a new copy.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void CharacterRegistry(Creature c)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Store character }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 c }{\lang1033\langfe1049\langnp1033\insrsid1382663 
in the game world as if made with the function above. If a character with this name already exist, it will NOT be rewritten. P.S. To remove a permanent character from the game world you must kill it, so use this carefully. 
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void AddItem(String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add item with the name or file name "name" to the }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 activePartner}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void AddItem(String name, int count)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Same, but with the counter. For adding many items.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void AddItem(Creature c, String itemTemplate)
\par void AddItem(Creature c, String itemTemplate, int count)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 As above but adding to the character }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 c}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void RemoveItem(String name)
\par void RemoveItem(String name, int count)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 For removing items from }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 activePartner}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean HasItem(Creature c, String name)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true }{\lang1033\langfe1049\langnp1033\insrsid1382663 if }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 c }{
\lang1033\langfe1049\langnp1033\insrsid1382663 has item with }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid2773239 name}{\lang1033\langfe1049\langnp1033\insrsid1382663  or filesystem name "}{
\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid2773239 name}{\lang1033\langfe1049\langnp1033\insrsid1382663 ".
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean HasItems(Creature c, String name, int count)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true }{\lang1033\langfe1049\langnp1033\insrsid1382663 if }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 c }{
\lang1033\langfe1049\langnp1033\insrsid1382663 has }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 count}{\lang1033\langfe1049\langnp1033\insrsid1382663  items with }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid2773239 name}{
\lang1033\langfe1049\langnp1033\insrsid1382663  or filesystem name "}{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid2773239 name}{\lang1033\langfe1049\langnp1033\insrsid1382663 ".
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void EndWalk()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 This command end walking}{\lang1033\langfe1049\langnp1033\insrsid2773239  mode}{\lang1033\langfe1049\langnp1033\insrsid1382663  immediately, }{\lang1033\langfe1049\langnp1033\insrsid2773239 switch interface
}{\lang1033\langfe1049\langnp1033\insrsid1382663  to the Management tab.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 
\par void EndWalkWithTimedReturn(int hours)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 As EndWalk(), but worker will be returned to home only after }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 hours}{\lang1033\langfe1049\langnp1033\insrsid1382663 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void ForceEvent(String event)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 This command will force the game engine to load an event with filesystem name }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 event}{\lang1033\langfe1049\langnp1033\insrsid1382663 
. Not for normal events!
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void DisplayChar(String file)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Load image from file and display it as the character image in the Walk tab.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean isTaskFirstHour()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  only if this is the first hour of the }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 task}
{\lang1033\langfe1049\langnp1033\insrsid1382663  assigned to the worker. In other worlds it return true in the 1, 7, 13 and 19 hours of the day.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void SetEnemy(Creature c)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Sets the current enemy. Do not just use construction like: enemy=<some creature> this is not right. Use only this function to set enemy. Mainly this is for the Interaction Mode.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void AddButton(String caption, String event)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add button to the control panel of the Walk tab. Button will be displayed after the event buttons. 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 caption}{\lang1033\langfe1049\langnp1033\insrsid1382663  - text on the button, }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 event - }{\lang1033\langfe1049\langnp1033\insrsid1382663 
event to load if this button pressed. Filesystem name.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid7156764 boolean Chance(int per}{\b\lang1033\langfe1049\langnp1033\insrsid1382663 cent)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 This behaves something like dice. Do a roll, and return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  with the }{
\b\lang1033\langfe1049\langnp1033\insrsid7156764 percent}{\b\lang1033\langfe1049\langnp1033\insrsid1382663  }{\lang1033\langfe1049\langnp1033\insrsid1382663 chance.  }{\lang1033\langfe1049\langnp1033\insrsid2773239 
For example: Chance (5) return true roughly in 5 cases from 100.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 boolean InDevMode()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 true}{\lang1033\langfe1049\langnp1033\insrsid1382663  if game in the Developer Mode.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void NewShop()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Initialize new shop. Shop window will be displayed after processing all of the this events scripts.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void ItemToShop(String item)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Add item with filesystem name }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 item }{\lang1033\langfe1049\langnp1033\insrsid1382663 to the current shop.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void BeginInteraction(String event)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Start Interaction Mode, see below.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 
\par void EndInteraction()
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 End Interaction Mode, see below.
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 double ShameCheck(double force)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Return }{\lang1033\langfe1049\langnp1033\insrsid7156764 embarrassment}{\lang1033\langfe1049\langnp1033\insrsid1382663  (shame) of worker based on stat "generic.lewdness". }{
\b\lang1033\langfe1049\langnp1033\insrsid1382663 force }{\lang1033\langfe1049\langnp1033\insrsid1382663 can be from 0 to 100. More is more extreme.  
\par }{\lang1033\langfe1049\langnp1033\insrsid7156764 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void RelaxShame(double force)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Relax worker about lewd act}{\lang1033\langfe1049\langnp1033\insrsid7156764 s}{\lang1033\langfe1049\langnp1033\insrsid1382663  by }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 force}{
\lang1033\langfe1049\langnp1033\insrsid1382663 . (Just adding this to stat "generic.lewdness").
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void MoodChange(double val)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Change mood by a }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 val}{\lang1033\langfe1049\langnp1033\insrsid1382663 . (Subtracting from stat "generic.mood");
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 void MoodShame(double force)
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 Complex command to check level of shame against }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 force, }{\lang1033\langfe1049\langnp1033\insrsid1382663 and
 lower mood if needed. Every check raise stat "generic.lewdness" - on the special formula. Basically this is one function enough to manage all shame and mood stats in generic events.  
\par }{\lang1033\langfe1049\langnp1033\insrsid5977341 
\par 
\par 
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid5977341 {\b\lang1033\langfe1049\langnp1033\insrsid5977341 Object: BodyResponse
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid5977341 {\lang1033\langfe1049\langnp1033\insrsid5977341\charrsid5977341 After you call }{\lang1033\langfe1049\langnp1033\insrsid5977341 in the script function doAction
 in return you get this type of object in response. It have only one function - get. More easy to understand how it all work is see example with comments:
\par 
\par c = Character... //There we create or call some character. Now refernce to it in the }{\b\lang1033\langfe1049\langnp1033\insrsid5977341\charrsid5977341 c}{\lang1033\langfe1049\langnp1033\insrsid5977341 .
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid5977341\charrsid10757701 br = c.doAction("milking");}{\lang1033\langfe1049\langnp1033\insrsid5977341  //All organs of character get notification of now character is milked. If \tab \tab \tab }{
\lang1033\langfe1049\langnp1033\insrsid16200432 \tab }{\lang1033\langfe1049\langnp1033\insrsid5977341 organ has action that can respond to keyword "milking", it will add \tab \tab \tab \tab 
something to the response. Or can do something with the RNA values \tab \tab \tab \tab of character.
\par }{\lang1033\langfe1049\langnp1033\insrsid16200432 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid5977341\charrsid10757701 milk}{\b\lang1033\langfe1049\langnp1033\insrsid16200432\charrsid10757701  = br.get("breasts", "milkvol");}{\lang1033\langfe1049\langnp1033\insrsid16200432 
  // There we get value from response object. }{\lang1033\langfe1049\langnp1033\insrsid5977341 
\par }{\lang1033\langfe1049\langnp1033\insrsid16200432 \tab \tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid10757701 \tab }{\lang1033\langfe1049\langnp1033\insrsid16200432 "breasts" - is name of organ that add response, and }{
\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab \tab \tab \tab \tab "milkvol" - }{\lang1033\langfe1049\langnp1033\insrsid16200432 is name of the response itself.
\par 
\par Names of the organs you can get from the Bio SDK or simply look in the Organ Editor. Names of the responses you too can get from Organ Editor, but most common can be seen in Bio SDK.
\par Why it coded this way? There is many reasons, but main is:
\par One organ can do many responses on single action, and some organs can have responses to single action too. For example - orgasm. Woman body can react to it: }{\lang1033\langfe1049\langnp1033\insrsid7876354 contractions}{
\lang1033\langfe1049\langnp1033\insrsid16200432  of vagina, }{\lang1033\langfe1049\langnp1033\insrsid7876354 
squirting from vagina, some leaks of milk from the breasts if lactating... With this way all this reactions can be returned in the one object and with the numeric values, so we can now how much milk is leaked...
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid7876354 {\b\lang1033\langfe1049\langnp1033\insrsid16200432 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid7876354 
\par Object: OrganResponse
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid7876354 {\lang1033\langfe1049\langnp1033\insrsid7876354 
BodyResponse formed by the engine, but single organ not now about others. They independent. So for the single organ response we have other object. It's used unique way in the engine.
\par In normal cases, from all scripts game engine expect to get String. But in the Organ Editor, in Action Script window, game parse scripts in special way.
\par }{\lang1033\langfe1049\langnp1033\insrsid10162975 On first: on calling this script, engine create object OrganResponse with name "result".}{\lang1033\langfe1049\langnp1033\insrsid7876354 
\par }{\lang1033\langfe1049\langnp1033\insrsid10162975 On second: engine expect, that this object with name "result" will be used in the "rule of last expression". In other world, last script string need to be just "result;".}{
\lang1033\langfe1049\langnp1033\insrsid10162975\charrsid7876354 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid5977341 {\lang1033\langfe1049\langnp1033\insrsid10162975 In this object we write results of the actions with command }{\b\lang1033\langfe1049\langnp1033\insrsid10162975\charrsid10162975 put}{
\lang1033\langfe1049\langnp1033\insrsid10162975 . Example:
\par 
\par Organ: breasts, Action:orgasm, Action script:
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid10162975\charrsid10757701 result.put("milk", 200);}{\lang1033\langfe1049\langnp1033\insrsid10162975  }{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab }{\lang1033\langfe1049\langnp1033\insrsid10162975 
// We guess that 200ml of milk will leaked on any "orgasm"}{\lang1033\langfe1049\langnp1033\insrsid1382663  action.}{\lang1033\langfe1049\langnp1033\insrsid10162975 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid10757701 result;\tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab \tab  \tab // Last expression rule.}{\lang1033\langfe1049\langnp1033\insrsid10162975 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par N}{\lang1033\langfe1049\langnp1033\insrsid10162975 ow we can get this response in the some event script like this:
\par 
\par c = Character... \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab }{\lang1033\langfe1049\langnp1033\insrsid10162975 // Geting some character
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid10757701 br = c.doAction("orgasm");}{\lang1033\langfe1049\langnp1033\insrsid1382663     \tab // Character get it. :)}{\lang1033\langfe1049\langnp1033\insrsid10162975 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663\charrsid10757701 milk = br.get("breasts", "milk");}{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab // There! We have one value that we need now, from the all \tab \tab \tab \tab \tab body reactions. 

\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\lang1033\langfe1049\langnp1033\insrsid1382663 Interaction mode.
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par This is a special mode for the i
nteractions between workers and other creatures in the game. For now, mainly used to write a battle event. Commands need to work in the connection, so i just write here example with comments. For this example there will be a set of events to fight with du
mmy.
\par 
\par In first place we need starting event: }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 battle/dummy/start}{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 e = Character("Dummy", "dummy");\tab \tab }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 //}{\lang1033\langfe1049\langnp1033\insrsid1382663  create Creature "Dummy" from the DNA file }{
\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab \tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 "dna/dummy.dna" and store it in variable }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 e}{
\lang1033\langfe1049\langnp1033\insrsid10757701 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 SetEnemy(e);\tab \tab \tab \tab \tab \tab }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 //}{\lang1033\langfe1049\langnp1033\insrsid1382663  Set this Creature as current enemy.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 BeginInteraction("battle/p_turn");\tab \tab \tab }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 //}{\lang1033\langfe1049\langnp1033\insrsid1382663 Tell system to start InteractionMode, with first }{
\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab \tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 event }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 battle/p_turn}{\lang1033\langfe1049\langnp1033\insrsid1382663 .

\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 AddIState("win", "battle/dummy/win");\tab \tab }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 //}{\lang1033\langfe1049\langnp1033\insrsid1382663 Adding associations: what event will be called }{
\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab \tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 if interaction reach certain state? This if the }{\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab \tab \tab 
\tab \tab \tab w}{\lang1033\langfe1049\langnp1033\insrsid1382663 orker wins.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 AddIState("lose", "battle/lose");\tab \tab \tab }{\b\lang1033\langfe1049\langnp1033\insrsid10757701 // }{\lang1033\langfe1049\langnp1033\insrsid1382663 For losses.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 AddIState("flee", "battle/dummy/flee");}{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid10757701 //}{\lang1033\langfe1049\langnp1033\insrsid1382663 
 If they flee.
\par 
\par In the event battle/p_turn player can select actions to do in battle. They calculate result, and change stats of worker and enemy. But in the end, this come to end somehow. And for this exists command:
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 SetIState(String state)\tab 
\par }{\lang1033\langfe1049\langnp1033\insrsid1382663 
\par If now we call it like this anywere in events inside Interaction Mode: SetIState("win") - next loaded event will be }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 "battle/dummy/win"}{\lang1033\langfe1049\langnp1033\insrsid1382663 
. In this event we write outcome of interaction with worker wining, and ending interaction mode:
\par 
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 Now dummy is fully defeated and ruined. But not be very proud of it - real enemies can fight back.
\par <%activePartner.addStat("generic.str", 0.5); }{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab - there is prize to win - one stat going up.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 EndInteraction();\tab \tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 - Very important - we need to end this mode.
\par }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 "";%>\tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 \tab \tab - Using "", so this script not print anything, only }{\lang1033\langfe1049\langnp1033\insrsid10757701 \tab \tab \tab 
\tab \tab \tab \tab }{\lang1033\langfe1049\langnp1033\insrsid1382663 change worker stat and end interaction mode.
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid10757701 {\lang1033\langfe1049\langnp1033\insrsid1382663 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\lang1033\langfe1049\langnp1033\insrsid1382663 Event }{\b\lang1033\langfe1049\langnp1033\insrsid1382663 battle/p_turn }{\lang1033\langfe1049\langnp1033\insrsid1382663 already exists in ga
me - this is generic event to player turn in the standard battle, and it linked with all other events needed to do a generic fight. So you not need to write all battle mechanic itself. Only outcomes for the states: "win", "lose",  and "flee". (In future t
here can be more stats, or you can expand battle mechanic by yourself).
\par }}